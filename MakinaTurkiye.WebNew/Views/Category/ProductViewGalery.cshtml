@model NeoSistem.MakinaTurkiye.Web.Models.Catalog.MTCategoryProductViewModel

@using System.Web.Helpers

<style type="text/css">
    .satici-iletisim {
        font-size: 15px;
        display: inline-block;
    }

    @@media(min-width: 768px) {
        .satici-iletisim {
            font-size: 13px;
            margin-top: 5px;
        }
    }


    @@media(max-width:767px) {
        .product-list-v2__name {
            height: auto !important;
            font-size: 18px;
        }

        .product-list-v2__item .item-price {
            text-align: left !important;
        }
    }

    @@media( min-width: 991px) {
        .product-list-v2__item .item-price {
            margin-top: 18px;
            margin-bottom: 20px;
        }
    }
</style>
<div id="product-container" class="product-list-mt row clearfix">
    @{
        int i = 0;
        int otherIndexNumber = 0;

    }
    @foreach (var model1 in Model.CategoryProductModels)
    {
        ++i;
        string productUrl = MakinaTurkiye.Utilities.HttpHelpers.UrlBuilder.GetProductUrl(model1.ProductId, model1.ProductName);
        string s = model1.ModelYear.ToString();
        string Marka = (model1.BrandName != null || model1.BrandName != "") ? model1.BrandName : "";
        string Modeli = (model1.ModelName != null) ? ("" + model1.ModelName) : "";
        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3 ">
            <div class="product-list-mt__item js-hover-product-item">
                <div class="product-list-mt__inner">
                    <a href="@productUrl"
                       title="@model1.ProductName"
                       class="product-list-mt__link clearfix">
                        <div class="product-list-mt__image-area">
                            @if (!string.IsNullOrEmpty(model1.PicturePath))
                            {
                                if (i < 5)
                                {
                                    <img class="img-thumbnail"
                                         src="@model1.PicturePath"
                                         alt="@model1.ProductName"
                                         title="@model1.ProductName" />
                                }
                                else
                                {
                                    <img class="img-thumbnail img-lazy"
                                         src="/UserFiles/image-loading.png"
                                         data-src="@model1.PicturePath"
                                         alt="@model1.ProductName"
                                         title="@model1.ProductName" />

                                }
                                i++;

                            }
                            else
                            {
                                <img class="img-thumbnail broken-image"
                                     src="/UserFiles/image-loading.png"
                                     data-src="//s.makinaturkiye.com/no-image_200x150.png"
                                     title="@model1.ProductName"
                                     alt="@model1.ProductName" />
                            }
                            @if (model1.HasVideo.HasValue && model1.HasVideo.Value)
                            {
                        <a href="@(productUrl+"#video")">
                            <div class="product-list-video-icon" title="Videolu Ürün">
                                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                     viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">
<g>
                                <path d="M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30
		c0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15
		C45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z" />
                                <path d="M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30
		S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z" />
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>

                            </div>
                        </a>
                        
                            }
                        </div>
                        <div class="product-list-mt__detail">

                            <div class="product-list-mt__title-info">
                                <h3 class="product-list-mt__title">
                                    @model1.ProductName
                                </h3>
                                <div class="row col-md-12" style="padding-top:5px;padding-bottom:5px;">
                                    @if (!string.IsNullOrEmpty(model1.BrandName))
                                    {

                                        if (!string.IsNullOrEmpty(model1.ModelName))
                                        {
                                            //  model1.ModelName = ", " + model1.ModelName;
                                            <span style="color:#428bca;">
                                                @Html.Raw(model1.BrandName + " | " + model1.ModelName)
                                            </span> }
                                        else
                                        {
                                            <span style="color:#428bca;">
                                                @Html.Raw(model1.BrandName)
                                            </span>}

                                    }
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    @*<p class="product-list-mt__advert-no" style="float: left;">@model1.ProductNo</p>*@
                                    <div class="product-list-mt__features" style="float: right">

                                        @if (model1.Doping.HasValue && model1.Doping == true)
                                        {
                                            <span class="product-list-mt__has-doping">D</span>
                                        }
                                    </div>
                                    <div style="clear"></div>
                                </div>
                            </div>


                            <p class="product-list-mt__price" style="float:left;">

                                @if (string.IsNullOrEmpty(model1.Price) || (model1.ProductPriceType != (byte)NeoSistem.MakinaTurkiye.Web.Models.ProductPriceType.Price && model1.ProductPriceType != (byte)NeoSistem.MakinaTurkiye.Web.Models.ProductPriceType.PriceRange))
                                {
                                    <span class="interview"></span> }
                                else
                                {
                                    string priceCss = "";
                                    if (model1.CurrencyCss == "")
                                    {
                                        priceCss = "interview";
                                    }


                                    if (model1.Price != "Fiyat Sorunuz")
                                    {

                                        if (!string.IsNullOrEmpty(model1.ProductPriceWithDiscount))
                                        {

                                            <span class="old-price">@model1.Price</span>
                                            <i itemprop="priceCurrency" class="@model1.CurrencyCss old-price"></i> }
                                        else
                                        {

                                            <span class="">@model1.Price</span>
                                            <i itemprop="priceCurrency" class="@model1.CurrencyCss"></i> }

                                        if (!string.IsNullOrEmpty(model1.ProductPriceWithDiscount))
                                        {

                                            <span>@model1.ProductPriceWithDiscount</span>
                                            <i itemprop="priceCurrency" class="@model1.CurrencyCss"></i> }
                                    }
                                    else
                                    {
                                        <span class="interview"></span> }
                                    if (!string.IsNullOrEmpty(model1.Price))
                                    {
                                        <small style=" font-weight: 500; padding-left:0px; font-size: 11px;color:#8a8a8a">@model1.KdvOrFobText</small>}
                                }
                      
                            </p>
                            <div style="float:right;">
                                @if (model1.MinumumAmount.HasValue && model1.MinumumAmount.Value>1)
                                {
                                    <small style="color:#8a8a8a;font-size:12px; font-weight:500">
                                      Min Sip @(model1.MinumumAmount.Value + " " + model1.UnitType)
                                    </small>
                                }
                            </div>


                        </div>

                    </a>
                </div>

               
            </div>
        </div>

        otherIndexNumber++;
    }
</div>
@Html.Partial("_ProductPaging", Model.PagingModel)



