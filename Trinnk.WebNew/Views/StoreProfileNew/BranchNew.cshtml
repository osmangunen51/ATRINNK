@model MTStoreProfileBranchModel
@using NeoSistem.Trinnk.Web.Models

@using NeoSistem.Trinnk.Core.Web.Helpers
@using NeoSistem.Trinnk.Web.Helpers
@using System.Diagnostics
@using NeoSistem.Trinnk.Web.Models.Home
@using NeoSistem.Trinnk.Web.Models.MemberShip
@using NeoSistem.Trinnk.Web.Models.Authentication
@using Trinnk.Entities.Tables.Members
@using NeoSistem.Trinnk.Web.Models.ViewModels
@using NeoSistem.Trinnk.Web.Models.Products
@using NeoSistem.Trinnk.Web.Models.Catalog
@using NeoSistem.Trinnk.Web.Models.Entities
@using NeoSistem.Trinnk.Web.Models.ProductRequests
@using NeoSistem.Trinnk.Web.Models.Stores
@using NeoSistem.Trinnk.Core.Web
@using NeoSistem.Trinnk.Web.Models.StoreNews
@using System.Globalization
@using NeoSistem.Trinnk.Web.Models.StoreProfiles
@using NeoSistem.Trinnk.Web.Models.Videos
@{
    //Layout = "~/Views/Shared/_LayoutAccountMaster.cshtml";
    //Layout = "~/Views/Shared/_LayoutMainMaster.cshtml";
    Layout = "~/Views/Shared/_LayoutStoreProfileMaster.cshtml";

}

@section headercontent{
    @Html.Partial("_HeaderContent")
}

@section storeprofileheadercontent{
    @if (Model.StoreActiveType == 2)
    {
    }
    @Html.Partial("_HeaderTop", Model.MTStoreProfileHeaderModel)
}


@section stoprofilemenu{
    @if (Model.StoreActiveType == 2)
    {
        @Html.Partial("_LeftMenu", Model.MTStoreProfileHeaderModel)

    }
}


@if (Model.StoreActiveType == 2)
{
    @Html.Hidden("hdnStoreMainPartyId", Model.MainPartyId)

    <div class="col-sm-7 col-md-8 col-lg-9">
        <div class="StoreProfileContent">

            @foreach (var item in Model.BranchAddresses)
            {
                <div class="col-xs-12">
                    <div class="col-xs-4 col-md-2">
                        <div class="thumbnail thumbnail-mt">
                            <div class="caption text-left">
                                <b>@Model.StoreBranchs.FirstOrDefault(c => c.StoreDealerId == item.StoreDealerId).DealerName  </b>
                                <br>
                                <p>
                                    @Model.AdressEdits.FirstOrDefault(x => x.AddressId == item.AddressId).Address
                                    <br />
                                    @foreach (var itemPhones in Model.Phones.Where(c => c.AddressId == item.AddressId))
                                    {
                                        var pType = (PhoneType)itemPhones.PhoneType;
                                        string phone = "";
                                        switch (pType)
                                        {
                                            case PhoneType.Phone:
                                                phone = "Telefon:";
                                                break;
                                            case PhoneType.Fax:
                                                phone = "Fax:";
                                                break;
                                            case PhoneType.Gsm:
                                                phone = "Gsm:";
                                                break;
                                            default:
                                                break;
                                        }

                                        @phone
                                        @(itemPhones.PhoneCulture + " " + itemPhones.PhoneAreaCode + " " + itemPhones.PhoneNumber)
                                    }
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            }
            <div class="clearfix"></div>
        </div>
        <!-- /.col-md-5 main content -->
    </div>


}
else
{
    @Html.Action("NoAccessStore", new { id = Model.MainPartyId })
}


