@model NeoSistem.Trinnk.Web.Models.StoreProfiles.MTStoreProfileProductsModel
@using NeoSistem.Trinnk.Web.Models
@using Trinnk.Core
@using NeoSistem.Trinnk.Core.Web.Helpers
@using NeoSistem.Trinnk.Web.Helpers
@using System.Diagnostics
@using NeoSistem.Trinnk.Web.Models.Home
@using NeoSistem.Trinnk.Web.Models.MemberShip
@using NeoSistem.Trinnk.Web.Models.Authentication
@using Trinnk.Entities.Tables.Members
@using NeoSistem.Trinnk.Web.Models.ViewModels
@using NeoSistem.Trinnk.Web.Models.Products
@using NeoSistem.Trinnk.Web.Models.Catalog
@using NeoSistem.Trinnk.Web.Models.Entities
@using NeoSistem.Trinnk.Web.Models.ProductRequests
@using NeoSistem.Trinnk.Web.Models.Stores
@using NeoSistem.Trinnk.Core.Web
@using NeoSistem.Trinnk.Web.Models.StoreNews
@using System.Globalization
@using NeoSistem.Trinnk.Web.Models.StoreProfiles
@using NeoSistem.Trinnk.Web.Models.Videos
@{
    //Layout = "~/Views/Shared/_LayoutAccountMaster.cshtml";
    //Layout = "~/Views/Shared/_LayoutMainMaster.cshtml";
    Layout = "~/Views/Shared/_LayoutStoreProfileMaster.cshtml";
    string activeCss = "active";
    string queryOrder = string.IsNullOrEmpty(Request.QueryString["Order"]) ? "" : Request.QueryString["Order"].ToString();

}

@section headercontent{
    @Html.Partial("_HeaderContent")

}

@section storeprofileheadercontent{
    @if (Model.StoreActiveType == 2)
    {
    }
    @Html.Partial("_HeaderTop", Model.MTStoreProfileHeaderModel)
}

@section stoprofilemenu{
    @if (Model.StoreActiveType == 2)
    {
        @Html.Partial("_LeftMenu", Model.MTStoreProfileHeaderModel)

    }
}


@if (Model.StoreActiveType == 2)
{

    <div class="col-sm-7 col-md-8 col-lg-9">

        @if (Model.MTProductsProductListModel.MTProductsPageProductLists.Source.Count() > 0)
        {

            <div class="store-product-container">

                <div class="col-md-12" style="padding: 0px;">
                    <div class="categort-filter">
                        <div class="row">
                            <div class="col-xs-9 col-sm-6 col-md-4">
                                @foreach (var item in Model.CustomFilterModels.Where(x => x.ProductCount > 0))
                                {
                                    string active = "";
                                    if (item.Selected)
                                    {
                                        active = "active";
                                    }
                                    <a href="@item.FilterUrl" class="categort-filter__link @active">@item.FilterName<span class="category-filter-count">&nbsp;(@item.ProductCount)</span></a>}
                            </div>

                            <div class="col-xs-3 col-sm-6 col-md-8">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="dropdown pull-right" style="width: 160px;">
                                            <button class="btn btn-default btn-block dropdown-toggle" type="button" id="btnGroupVerticalDrop1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                Akıllı Sıralama
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="btnGroupVerticalDrop1">
                                                <li>
                                                    <a class="@(queryOrder == "a-z" ? activeCss : string.Empty)" href="@Request.FilePath@("?Order=a-z")">a-Z</a>
                                                </li>
                                                <li>
                                                    <a class="@(queryOrder == " z-a" ? activeCss : string.Empty)" href="@Request.FilePath@("?Order=z-a")">Z-a</a>
                                                </li>
                                                <li>
                                                    <a class="@(queryOrder == "fiyat-artan" ? activeCss : string.Empty)" href="@Request.FilePath@("?Order=fiyat-artan")">Fiyata Göre Artan</a>
                                                </li>
                                                <li>
                                                    <a class="@(queryOrder == "fiyat-azalan" ? activeCss : string.Empty)" href="@Request.FilePath@("?Order=fiyat-azalan")">Fiyata Göre Azalan</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>
                    @Html.Partial("_ProductsProductWindow", Model.MTProductsProductListModel)
                </div>
                <div class="StoreProfileContent hidden">
                    <div class="row store-detail__product">
                        <div class="col-sm-12 col-md-12">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="tab-content">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        }
        else
        {
            <div class="row">
                <div class="col-md-12 search-no-result-container">
                    <div class="col-md-6 message">
                        <img src="../../Content/V2/images/not-found.png" />
                        <p class="message-text">
                            Bu kategoride ürün  bulunamamıştır.
                        </p>
                        <div>
                            Dilerseniz firmanın <a href="@Model.MTStoreProfileHeaderModel.StoreUrl">ansayfasına</a>  veya <a href="@AppSettings.SiteAllCategoryUrl">tüm ürünler</a> sayfamıza bakabilirsiniz.
                        </div>

                    </div>
                </div>
            </div>
        }
    </div>
}

else
{
    @Html.Action("NoAccessStore", new { id = Model.MTProductsProductListModel.StoreMainPartyId })
}


